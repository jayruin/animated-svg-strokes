var p=t=>{let e=/[-]?\d+(?:\.\d+)?/gu;return t.match(e)?.map(r=>parseFloat(r))??[]};var l=async t=>{let e=await fetch(t,{cache:"no-store"});if(!e.ok)throw new Error(`Unexpected HTTP response status code ${e.status}.`);return e};var u="image/svg+xml";var m=t=>async e=>{let r=`https://cdn.jsdelivr.net/gh/parsimonhi/animCJK/${t}/${e}.svg`;return await l(r)},f=t=>t instanceof CSSStyleRule,w="http://www.w3.org/1999/xlink",d=async t=>{let e=await t.text(),r=new DOMParser().parseFromString(e,u),n=r.querySelector("svg")?.getAttribute("viewBox");if(n===null||typeof n>"u")throw new Error("Cannot get viewBox.");let i=Array.from(r.querySelector("style")?.sheet?.cssRules??[]).filter(f).map(s=>parseFloat(s.style.strokeWidth)).find(s=>!isNaN(s)&&isFinite(s));if(typeof i>"u")throw new Error("Cannot get strokeWidth.");return{strokes:Array.from(r.querySelectorAll("path[clip-path]")).sort((s,a)=>{let[o,g]=[s,a].map(h=>{let c=h.getAttribute("clip-path");if(c===null)throw new Error("Cannot get clip-path.");return p(c)[1]});return o-g}).map(s=>{let a=s.getAttribute("d");if(a===null)throw new Error("Cannot get strokePath.");let o=r.getElementById(r.getElementById((s.getAttribute("clip-path")??"").replace("url","").replace("(","").replace(")","").replace("#",""))?.querySelector("use")?.getAttributeNS(w,"href")?.replace("#","")??"")?.getAttribute("d");if(o===null||typeof o>"u")throw new Error("Cannot get clipPath.");return{clipPath:o,strokePath:a,strokeWidth:i}}),transform:null,viewBox:n}};var q="zhHans-animcjk",A=m("svgsZhHans");export{d as parser,A as requester,q as source};
